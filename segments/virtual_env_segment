#!/bin/env bash

# virtual_env_segment

PL_SYMBOLS+=( [python]='Ï€' )

# -----------------------------------------------------------------------------
# append to prompt: python virtual environment name
# arg: $1 foreground color
# arg; $2 background color
function virtual_env_segment {
    if [ -n "$VIRTUAL_ENV" ]; then
        local venv="${VIRTUAL_ENV##*/}"
        local bg_color="$1"
        local fg_color="$2"
        local content env_symbol
        pl_symbol env_symbol 'python'
        content=" $env_symbol $venv"
        PS1+="$(segment_end "$fg_color" "$bg_color")"
        PS1+="$(segment_content "$fg_color" "$bg_color" "$content ")"
        # shellcheck disable=SC2034
        __last_color="$bg_color"    # variable will be used when sourced
    fi
}

